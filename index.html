<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form1 - è¨‚é¤è¡¨å–®</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            padding: 20px;
            background-color: #f9f9f9;
            color: #333;
            touch-action: pan-y;
        }
        
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        /* ===== æ–°å¢çš„åœ–ç‰‡ç¸®æ”¾å€å¡Š ===== */
        .image-preview {
            margin-bottom: 25px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background: #f8f9fa;
        }
        
        .image-container {
            position: relative;
            width: 100%;
            height: 250px;
            overflow: hidden;
            touch-action: none; /* ç¦ç”¨ç€è¦½å™¨é»˜èªæ‰‹å‹¢ */
        }
        
        #zoomImage {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: contain;
            transform-origin: 0 0;
            cursor: move;
            user-select: none;
            -webkit-user-drag: none;
        }
        
        .image-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-top: 1px solid #eee;
            font-size: 14px;
        }
        
        .zoom-info {
            color: #666;
        }
        
        .reset-btn {
            background: white;
            border: 1px solid #3498db;
            color: #3498db;
            padding: 5px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
        }
        
        .reset-btn:active {
            background: #3498db;
            color: white;
        }
        
        .touch-hint {
            text-align: center;
            padding: 5px;
            font-size: 12px;
            color: #888;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }
        /* ===== åœ–ç‰‡å€å¡ŠçµæŸ ===== */
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            font-size: 1.8rem;
        }
        
        .form-subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 25px;
            font-size: 1rem;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        input[type="text"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .radio-group,
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 5px;
        }
        
        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
        }
        
        .radio-option input,
        .checkbox-option input {
            margin-right: 8px;
        }
        
        .required::after {
            content: " *";
            color: #e74c3c;
        }
        
        .submit-btn {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        
        .submit-btn:hover {
            background-color: #27ae60;
        }
        
        .back-link {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: #3498db;
            text-decoration: none;
        }
        
        @media (max-width: 600px) {
            .form-container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .image-container {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>form1 - é€±äºŒé¤é»è¨‚è³¼</h1>
        <div class="form-subtitle">è«‹å¡«å¯«ä»¥ä¸‹è³‡è¨Šä»¥å®Œæˆè¨‚é¤</div>
        
        <!-- ===== æ–°å¢ï¼šå¯ç¸®æ”¾åœ–ç‰‡å€å¡Š ===== -->
        <div class="image-preview">
            <div class="image-container" id="imageContainer">
                <!-- é€™è£¡æ›æˆæ‚¨é›»è…¦ä¸­çš„åœ–ç‰‡ -->
                <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=800&auto=format&fit=crop" 
                     alt="æœ¬é€±é¤é»é è¦½" 
                     id="zoomImage"
                     draggable="false">
            </div>
            <div class="image-controls">
                <div class="zoom-info">ç¸®æ”¾: <span id="zoomPercent">100%</span></div>
                <button class="reset-btn" id="resetZoom">é‡ç½®</button>
            </div>
            <div class="touch-hint">ğŸ“± ä½¿ç”¨é›™æŒ‡æåˆç¸®æ”¾ï¼Œå–®æŒ‡æ‹–å‹•</div>
        </div>
        <!-- ===== åœ–ç‰‡å€å¡ŠçµæŸ ===== -->
        
        <form id="orderForm">
            <div class="form-group">
                <label for="name" class="required">å§“å</label>
                <input type="text" id="name" name="name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
            </div>
            
            <div class="form-group">
                <label for="department" class="required">éƒ¨é–€</label>
                <select id="department" name="department" required>
                    <option value="">è«‹é¸æ“‡éƒ¨é–€</option>
                    <option value="sales">æ¥­å‹™éƒ¨</option>
                    <option value="rd">ç ”ç™¼éƒ¨</option>
                    <option value="hr">äººäº‹éƒ¨</option>
                    <option value="finance">è²¡å‹™éƒ¨</option>
                    <option value="other">å…¶ä»–</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="required">ä¸»é¤é¸æ“‡</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="mainCourse" value="chicken" required>
                        é¦™çƒ¤é›è…¿é£¯ $120
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="mainCourse" value="pork">
                        è’œé¦™è±¬æ’é£¯ $110
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="mainCourse" value="fish">
                        æª¸æª¬é­šæ’é£¯ $130
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label>é…èœé¸æ“‡ï¼ˆå¯å¤šé¸ï¼‰</label>
                <div class="checkbox-group">
                    <label class="checkbox-option">
                        <input type="checkbox" name="sideDish" value="salad">
                        å’Œé¢¨æ²™æ‹‰
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="sideDish" value="soup">
                        ä»Šæ—¥æ¹¯å“
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="sideDish" value="fruit">
                        å­£ç¯€æ°´æœ
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label for="quantity" class="required">æ•¸é‡</label>
                <input type="number" id="quantity" name="quantity" min="1" max="10" value="1" required>
            </div>
            
            <div class="form-group">
                <label for="notes">ç‰¹æ®Šå‚™è¨»</label>
                <textarea id="notes" name="notes" rows="3" placeholder="ä¾‹å¦‚ï¼šä¸è¦è”¥è–‘è’œã€è¾£åº¦èª¿æ•´ç­‰"></textarea>
            </div>
            
            <button type="submit" class="submit-btn">æäº¤è¨‚å–®</button>
        </form>
        
        <a href="index.html" class="back-link">â† è¿”å›ä¸»ç¶²ç«™</a>
    </div>
    
    <script>
        // ===== åœ–ç‰‡ç¸®æ”¾åŠŸèƒ½ =====
        const image = document.getElementById('zoomImage');
        const zoomPercent = document.getElementById('zoomPercent');
        const resetBtn = document.getElementById('resetZoom');
        const container = document.getElementById('imageContainer');
        
        let scale = 1;
        let isDragging = false;
        let startX, startY;
        let translateX = 0, translateY = 0;
        let lastDistance = null;
        
        // æ›´æ–°åœ–ç‰‡è®Šæ›
        function updateTransform() {
            image.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            zoomPercent.textContent = `${Math.round(scale * 100)}%`;
            
            // é™åˆ¶æ‹–å‹•ç¯„åœ
            const maxX = (image.width * scale - container.clientWidth) / 2;
            const maxY = (image.height * scale - container.clientHeight) / 2;
            
            if (translateX > maxX) translateX = maxX;
            if (translateX < -maxX) translateX = -maxX;
            if (translateY > maxY) translateY = maxY;
            if (translateY < -maxY) translateY = -maxY;
            
            updateTransform();
        }
        
        // é‡ç½®ç¸®æ”¾å’Œä½ç½®
        function resetZoom() {
            scale = 1;
            translateX = 0;
            translateY = 0;
            updateTransform();
        }
        
        // é¼ æ¨™/è§¸æ§äº‹ä»¶
        container.addEventListener('mousedown', (e) => {
            if (scale === 1) return; // åªæœ‰ç¸®æ”¾å¾Œæ‰å…è¨±æ‹–å‹•
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            image.style.cursor = 'grabbing';
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            updateTransform();
        });
        
        document.addEventListener('mouseup', () => {
            isDragging = false;
            image.style.cursor = scale === 1 ? 'move' : 'grab';
        });
        
        // è§¸æ§äº‹ä»¶ï¼ˆé›™æŒ‡ç¸®æ”¾ï¼‰
        container.addEventListener('touchstart', (e) => {
            if (e.touches.length === 2) {
                // è¨ˆç®—å…©æŒ‡åˆå§‹è·é›¢
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                lastDistance = Math.sqrt(dx * dx + dy * dy);
            } else if (e.touches.length === 1 && scale > 1) {
                // å–®æŒ‡æ‹–å‹•ï¼ˆåªæœ‰ç¸®æ”¾å¾Œæ‰å…è¨±ï¼‰
                isDragging = true;
                startX = e.touches[0].clientX - translateX;
                startY = e.touches[0].clientY - translateY;
            }
        }, { passive: true });
        
        container.addEventListener('touchmove', (e) => {
            if (e.touches.length === 2) {
                e.preventDefault(); // é˜»æ­¢é é¢æ»¾å‹•
                // è¨ˆç®—ç•¶å‰å…©æŒ‡è·é›¢
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (lastDistance !== null) {
                    const delta = distance - lastDistance;
                    // èª¿æ•´ç¸®æ”¾é€Ÿåº¦
                    scale += delta * 0.01;
                    scale = Math.max(1, Math.min(scale, 5)); // é™åˆ¶ç¸®æ”¾ç¯„åœ 1-5å€
                    updateTransform();
                }
                lastDistance = distance;
            } else if (e.touches.length === 1 && isDragging) {
                e.preventDefault();
                translateX = e.touches[0].clientX - startX;
                translateY = e.touches[0].clientY - startY;
                updateTransform();
            }
        }, { passive: false });
        
        container.addEventListener('touchend', () => {
            lastDistance = null;
            isDragging = false;
        });
        
        // æ»¾è¼ªç¸®æ”¾
        container.addEventListener('wheel', (e) => {
            e.preventDefault();
            if (e.deltaY < 0) {
                scale = Math.min(scale + 0.1, 5);
            } else {
                scale = Math.max(scale - 0.1, 1);
            }
            updateTransform();
        }, { passive: false });
        
        // é‡ç½®æŒ‰éˆ•
        resetBtn.addEventListener('click', resetZoom);
        
        // ===== è¡¨å–®æäº¤åŠŸèƒ½ =====
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {};
            formData.forEach((value, key) => {
                if (data[key]) {
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            });
            
            alert('è¨‚å–®æäº¤æˆåŠŸï¼\n\nè¨‚å–®è³‡è¨Šï¼š\n' + 
                  'å§“å: ' + data.name + '\n' +
                  'ä¸»é¤: ' + data.mainCourse + '\n' +
                  'æ•¸é‡: ' + data.quantity);
            
            this.reset();
            
            const orders = JSON.parse(localStorage.getItem('form1_orders') || '[]');
            orders.push({
                ...data,
                timestamp: new Date().toISOString(),
                formName: 'form1'
            });
            localStorage.setItem('form1_orders', JSON.stringify(orders));
        });
        
        // åˆå§‹åŒ–
        updateTransform();
    </script>
</body>
</html>